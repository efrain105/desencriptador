<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <title>desencriptador</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/cuerpo.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anuphan:wght@200;300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>


<body class="cuerpo">
<header>

</header>


<div class="contenedor1">


    <section class="instrucciones">
    </section>

    <section class="box">

        <div class="boxTexto">
            <label for="textoWork"></label>
            <textarea name="textoWork" id="textoWork"
                      placeholder="Ingresa el texto para encriptar o desencriptar"></textarea>
            <p> &#10071;Solo letras minusculas sin acentos</p>
            <div class="botones">
                <button type="submit" class="sub" name="desencriptar" id="encri">Encriptar</button>
                <button type="submit" class="sub" name="encriptar" id="desen">Desencriptar</button>
            </div>
        </div>


        <div class="boxResultado">
            <label for="resultado"></label>
            <textarea name="resultado" id="resultado" disabled></textarea>
            <img src="img/bolitas.svg" alt="">
            <p>¡¡¡Resultado listo!!!</p>
            <div class="botonCopiar">
                <button type="submit" class="sub" name="copiar" id="copiar">Copiar</button>
            </div>
        </div>

        <div class="img">
            <p>No has ingresado ningun mensaje.</p>
            <img src="img/1.png" alt="">
            <p>Estamos listos solo pulsa un boton!!</p>

        </div>

    </section>

</div>


<footer>

</footer>
</body>


</html>
<script>
    let resultado = document.getElementById("textoWork");

    function visibleOculto() {
        var boxResultado = document.querySelector(".boxResultado");
        boxResultado.classList.add("none");
        let imagen = document.querySelector(".img");
        imagen.classList.add("aparecer");
        if (resultado.value.length > 0) {
            boxResultado.classList.remove("none");
            boxResultado.classList.add("aparecer");
            imagen.classList.remove("aparecer");
            imagen.classList.add("none");
        } else {
            boxResultado.classList.add("none");
            boxResultado.classList.remove("aparecer");
            imagen.classList.remove("none");
            imagen.classList.add("aparecer");
        }
    }

    visibleOculto();
</script>

<script>
    function swanOpcion(opcion){
        switch (opcion) {
            case "error":
                Swal.fire({
                    icon: "error",
                    title: "Texto vacio...",
                    text: "El campo de texto no puede estar vacio!",
                    width:"320px",
                    background: " rgba(0, 156, 189, 0.7)",
                    color: "white"
                });
                break;
            case "info":
                Swal.fire({
                    icon: "info",
                    title: "Caracteres no validos",
                    text: "Solo letras minusculas sin numeros ni caracteres especiales",
                    width:"320px"
                });
                break;
            case "copiar":
                Swal.fire({
                    icon: "info",
                    title: "Sin texto para copiar",
                    text: "El campo de texto no puede estar vacio",
                    width:"320px"
                });
                break;
            default:
            // código a ejecutar si ninguna de las opciones anteriores se cumple
        }
    }
</script>
<script>

    document.getElementById("encri").onclick = function () {
        visibleOculto();
        const regex = /^[a-z \n]+$/;
        let textWork = document.getElementById("textoWork");
        let textResult;
        if (regex.test(textWork.value)) {
            textResult = document.getElementById("resultado");
            textResult.value = textWork.value
                .replace(/e/gi, "enter")
                .replace(/i/gi, "imes")
                .replace(/a/gi, "ai")
                .replace(/o/gi, "ober")
                .replace(/u/gi, "ufat");
            textWork.value = "";
        } else {
            textWork = document.getElementById("textoWork");
            if (textWork.value.length === 0) {
                swanOpcion("error");
            } else {
                swanOpcion("info");
            }
            textWork.value = "";
            visibleOculto();
        }

    }

    document.getElementById("desen").onclick = function () {
        visibleOculto();
        const regex = /^[a-z \n]+$/;
        let textWork = document.getElementById("textoWork");
        let textResult;
        if (regex.test(textWork.value)) {
            textResult = document.getElementById("resultado");
            textResult.value = textWork.value
                .replace(/\b\w*enter\w*\b/gi, function (match) {
                    return match.replace(/enter/gi, "e");
                })
                .replace(/\b\w*imes\w*\b/gi, function (match) {
                    return match.replace(/imes/gi, "i");
                })
                .replace(/\b\w*ai\w*\b/gi, function (match) {
                    return match.replace(/ai/gi, "a");
                })
                .replace(/\b\w*ober\w*\b/gi, function (match) {
                    return match.replace(/ober/gi, "o");
                })
                .replace(/\b\w*ufat\w*\b/gi, function (match) {
                    return match.replace(/ufat/gi, "u");
                });
        } else {
            textWork = document.getElementById("textoWork");
            textResult = document.getElementById("resultado");
            if (textWork.value.length === 0) {
                swanOpcion("error");
                textResult.value = "";

            } else {
                swanOpcion("info");
                textResult.value = "";
            }
            textWork.value = "";
            visibleOculto();
        }
        textWork.value = "";
    }

    document.getElementById("copiar").onclick = function () {
        let copyText = document.getElementById("resultado");
        let textWork = document.getElementById("textoWork");
        if (copyText.value.length > 0) {
            copyText.select();
            navigator.clipboard.writeText(copyText.value);
            textWork.value = copyText.value;

        } else {
            swanOpcion("copiar");
        }

    }

</script>



